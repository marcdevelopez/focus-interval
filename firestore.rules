rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allows each user to read and write their active session in real time.
    match /users/{userId}/activeSession/{docId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // Tasks scoped to the authenticated user.
    match /users/{userId}/tasks/{taskId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // Task run groups scoped to the authenticated user.
    match /users/{userId}/taskRunGroups/{groupId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // Pomodoro presets scoped to the authenticated user.
    match /users/{userId}/pomodoroPresets/{presetId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // TODO: add the rest of the project rules here if you have them in Firebase Console.
  }
}
